const processData = (data) => {
    const result = [];

    // 데이터를 한 줄씩 처리
    for (let i = 0; i < data.length; i++) {
        let row = data[i];
        let columns = row.split(',');

        // 텍스트를 H, I, J, K열에 따라 나누어 저장
        let h = '';
        let i = '';
        let j = '';
        let k = '';

        let idx = 7; // column[7]부터 시작

        // H열 처리 (column[7]부터 column[8]까지 텍스트가 나오면)
        while (idx < columns.length) {
            let col = columns[idx].trim();
            if (col === '' || col.startsWith('https')) {
                break; // I열로 넘어감
            }
            h += col + ' '; // H열에 텍스트가 나오면 추가 (띄어쓰기 포함)
            idx++;
        }

        // I열 처리 (https가 나오면 I열로 넘어감)
        if (idx < columns.length && columns[idx].startsWith('https')) {
            i = columns[idx].trim();
            idx++;
        }

        // J열 처리 (https가 나오지 않으면 J열로 넘어감)
        while (idx < columns.length) {
            let col = columns[idx].trim();
            if (col === '' || col.startsWith('https')) {
                break; // K열로 넘어감
            }
            j += col + ' '; // J열에 텍스트가 나오면 추가 (띄어쓰기 포함)
            idx++;
        }

        // K열 처리 (https가 나오면 K열로 추가)
        if (idx < columns.length && columns[idx].startsWith('https')) {
            k = columns[idx].trim();
        }

        // 결과에 저장
        result.push({
            h: h.trim(), // 불필요한 공백 제거
            i: i.trim(),
            j: j.trim(),
            k: k.trim()
        });
    }

    return result;
};

// 예시 데이터
const data = [
    "A,B,C,D,E,F,G,흑백요리사,https://example1.com,,이븐하게 익혀지는 요리들이 내 마음을 울렸어",
    "A,B,C,D,E,F,G,봄봄! 또 갈래,https://example2.com,,정성껏 준비한 밥상",
    "A,B,C,D,E,F,G,소박한 맛,https://example3.com,,편안한 집밥",
    "A,B,C,D,E,F,G,너무 맛있어서 울었어,,모든 음식이 내 마음을 울렸어"
];

const processedData = processData(data);
console.log(processedData);
